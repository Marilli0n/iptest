#!/usr/bin/perl

# testcase 123.456.111.22 123.123.1155.111 123.122.3.556 1.1.1.1 1,1.1.1  123.456.111.22/22 123.123.1155.111/10 123.122.3.556/10 1.1.1.1/40 2.2.2.2/24 1,1.1.1 192.168.0.1 0.0.0.0/0 qwe

use strict;
use warnings;

my $ip;

if ($#ARGV == -1) {
	print "Usage:\niptest.pl inet_addr0 inet_addr1 inet_addr2 ...\n" ;
	exit(1);
}

foreach $ip (@ARGV){
	print "\n$ip ";
	if ($ip =~ /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/ &&($1<=255  && $2<=255 && $3<=255  && $4<=255)) {
		print "ip";
	} elsif ($ip =~ /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\/(\d{1,2})$/ &&($1<=255  && $2<=255 && $3<=255  && $4<=255 && $5<=32)) {
		print "net";
	} else {
		print "err";
	}
}
